function extractHostname(e){try{var t;return e.indexOf("://")>-1?t=new URL(e):(e="http://"+e,t=new URL(e)),t.hostname}catch(e){return"null"}}var movie_id=window.location.pathname.split("/")[2],keys="set-id";function start_player(key){console.log(key);var params=eval('encodeURI("id=" + movie_id + "&nonce=" + nonce)'),xhr=new XMLHttpRequest;xhr.open("POST","/data-parser/plugins/player/",!0),xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhr.onreadystatechange=function(){4==xhr.readyState&&200==xhr.status&&build_player(xhr.response,key)},xhr.onerror=function(){var e=document.getElementById("player-frame");fetch("/error-configs/").then(e=>e.blob()).then(t=>{e.src=window.URL.createObjectURL(t)})},xhr.send(params)}function build_player(e,t){document.getElementById("custom-dl-box").style.display="block";var n=(e=JSON.parse(e)).url,o=e.alt1,d=e.alt2,l=document.getElementById("source1"),r=document.getElementById("source2"),c=document.getElementById("source3"),a=document.getElementById("dl-s1"),i=document.getElementById("dl-s2"),s=document.getElementById("dl-s3"),m=document.getElementById("link-s1"),u=document.getElementById("link-s2"),y=document.getElementById("link-s3");function p(e,t,n,o){n.indexOf("://")>-1?n=n.replace("http://","https://"):0==n.indexOf("//")&&(n="https:"+n),e.setAttribute("data",n),e.innerHTML=extractHostname(n),"null"==extractHostname(n)||"none"==extractHostname(n).toLowerCase()?e.style.display="none":(e.style.display="inline",e.setAttribute("data",n.toString().replace("http://","https://"))),t.style.display=e.style.display,t.innerHTML=e.innerHTML,o.href="/out?url="+encodeURIComponent(n),t.innerHTML=e.innerHTML,e.onclick=function(){var e=document.getElementById("player-frame");document.getElementById("ifr-bx").removeChild(e),e.src=this.getAttribute("data"),document.getElementById("ifr-bx").appendChild(e)},t.onclick=function(){window.location="/out?url="+encodeURIComponent(this.getAttribute("data-dl"))}}p(l,a,n,m),p(r,i,o,u),p(c,s,d,y),document.getElementById("player-frame").src=n}document.getElementById("custom-dl").onclick=function(){},document.getElementById("downloader-info").onclick=function(){document.getElementById("hdn-info").style.display="block",document.getElementById("downloader-info").style.display="none"},start_player(keys),document.getElementById("d-linker").onclick=function(){window.location=encodeURI("/report?id="+movie_id)},document.getElementById("custom-dl").onclick=function(){document.getElementById("buttons-row").style.display="block"};